---
// Waline.astro
const { path } = Astro.props;
---

<!-- Waline 挂载点，使用 data-path 传递路径 -->
<div id="waline" data-path={path}></div>

<!-- 引入 Waline 样式 -->
<link
  rel="stylesheet"
  href="https://unpkg.com/@waline/client@v2/dist/waline.css"
/>

<!-- 初始化 Waline -->
<script type="module">
  import { init } from "https://unpkg.com/@waline/client@v2/dist/waline.mjs";

  const el = document.getElementById("waline");
  const path = el?.dataset.path || window.location.pathname;

  init({
    el: "#waline",
    serverURL: "https://www.sixdayc.xyz", // 替换为你的 Waline 服务器地址
    path: path,
    lang: "zh-CN",
    dark: 'html[data-theme="dark"]',
  });
</script>
